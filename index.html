<html>
<head>
    <title>Unbl0cker Portal</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Google Docs favicon -->
    <link rel="icon" type="image/png" href="https://ssl.gstatic.com/docs/doclist/images/drive_2022q3_32dp.png">
    <style id="theme-style">
        :root {
            --accent: #7f5af0;
            --accent2: #232946;
            --bg: #181824;
            --bg-light: #232946;
            --text: #fff;
            --text-light: #e0e0e0;
            --btn-bg: linear-gradient(90deg, #232946 0%, #181824 100%);
            --btn-hover: linear-gradient(90deg, #181824 0%, #232946 100%);
            --radius: 18px;
            --shadow: 0 8px 32px 0 rgba(127,90,240,0.10);
        }
        body {
            background: var(--bg);
            min-height: 100vh;
            margin: 0;
            font-family: 'Segoe UI', 'Inter', Arial, sans-serif;
            color: var(--text);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            transition: background 0.7s cubic-bezier(.4,2,.6,1), color 0.5s;
        }
        .container {
            background: var(--bg-light);
            padding: 36px 28px 28px 28px;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            min-width: 320px;
            max-width: 95vw;
            width: 370px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 18px;
            border: 1.5px solid var(--accent2);
            position: relative;
        }
        h1 {
            margin: 0 0 10px 0;
            font-size: 2.1em;
            letter-spacing: 2px;
            font-weight: 700;
            text-align: center;
            background: linear-gradient(90deg, #7f5af0 0%, #2cb67d 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        label {
            font-size: 1.08em;
            margin-bottom: 8px;
            color: var(--text-light);
            letter-spacing: 0.5px;
            display: block;
            text-align: left;
            width: 100%;
        }
        input[type="text"] {
            width: 100%;
            padding: 13px 14px;
            border-radius: 10px;
            border: 1.5px solid var(--accent);
            margin-bottom: 10px;
            font-size: 1.08em;
            background: #181824;
            color: var(--text);
            box-sizing: border-box;
            outline: none;
            transition: border 0.3s, background 0.3s;
        }
        input[type="text"]:focus {
            border: 1.5px solid #7f5af0;
            background: #232946;
        }
        .btn {
            width: 100%;
            max-width: 350px;
            display: block;
            margin: 18px auto 0 auto;
            padding: 20px 0;
            font-size: 1.18em;
            border: none;
            border-radius: 14px;
            background: var(--btn-bg);
            color: #fff;
            font-weight: 700;
            cursor: pointer;
            letter-spacing: 1.5px;
            box-shadow: 0 4px 24px 0 rgba(40,40,60,0.18), 0 1.5px 0 0 var(--accent2) inset;
            position: relative;
            overflow: hidden;
            transition: 
                background 0.3s, 
                color 0.3s, 
                box-shadow 0.3s, 
                transform 0.18s;
        }
        .btn::before {
            content: "";
            position: absolute;
            left: -50%;
            top: 0;
            width: 200%;
            height: 100%;
            background: linear-gradient(120deg, transparent 0%, rgba(40,40,60,0.13) 50%, transparent 100%);
            opacity: 0.7;
            transition: opacity 0.3s;
            pointer-events: none;
        }
        .btn:hover, .btn:focus {
            background: var(--btn-hover);
            color: #fff;
            transform: translateY(-2px) scale(1.04);
            box-shadow: 0 8px 32px 0 rgba(40,40,60,0.22);
        }
        .btn:active {
            transform: scale(0.98);
            box-shadow: 0 2px 8px 0 rgba(40,40,60,0.13);
        }
        .switch-btn {
            margin-bottom: 8px;
            padding: 7px 18px;
            border-radius: 8px;
            border: none;
            background: #232946;
            color: var(--accent);
            font-weight: 500;
            cursor: pointer;
            font-size: 1em;
            transition: background 0.3s, color 0.3s;
            align-self: flex-end;
        }
        .switch-btn.light {
            background: #e0e0e0;
            color: #7f5af0;
        }
        .theme-picker {
            margin-bottom: 8px;
            display: flex;
            gap: 10px;
            justify-content: center;
        }
        .theme-color {
            width: 28px;
            height: 28px;
            border-radius: 50%;
            border: 2px solid var(--accent2);
            cursor: pointer;
            outline: none;
            transition: border 0.3s, transform 0.2s;
            background: #232946;
        }
        .theme-color.selected {
            border: 3px solid var(--accent);
            transform: scale(1.18);
        }
        ul.button-list {
            list-style: none;
            padding: 0;
            margin: 0;
            width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 0;
        }
        @media (max-width: 500px) {
            .container {
                padding: 14px 2vw 14px 2vw;
                width: 98vw;
            }
            h1 { font-size: 1.3em; }
            .btn { font-size: 1em; padding: 14px 0; }
        }
    </style>
</head>
<body>
    <div class="container">
        <button id="themeSwitcher" class="switch-btn" onclick="toggleTheme()">Switch to Light Mode</button>
        <div class="theme-picker">
            <button class="theme-color" style="background:linear-gradient(135deg,#232526 0%,#414345 100%);" title="Default Dark" data-theme="dark"></button>
            <button class="theme-color" style="background:linear-gradient(135deg,#f8fafc 0%,#e2e8f0 100%);" title="Default Light" data-theme="light"></button>
            <button class="theme-color" style="background:linear-gradient(135deg,#1e3c72 0%,#2a5298 100%);" title="Blue" data-theme="blue"></button>
            <button class="theme-color" style="background:linear-gradient(135deg,#ffecd2 0%,#fcb69f 100%);" title="Peach" data-theme="peach"></button>
            <button class="theme-color" style="background:linear-gradient(135deg,#c471f5 0%,#fa71cd 100%);" title="Purple" data-theme="purple"></button>
        </div>
        <h1>Unblocker Portal</h1>
        <p style="color:#ffb86c; background:rgba(127,90,240,0.08); border-radius:8px; padding:10px 16px; margin-bottom:10px; font-size:1em; text-align:center;">
            <b>Warning:</b> Some sites may not work directly here. If a site doesn't load, try using one of the unblockers below!
        </p>
        <label for="gameUrl" style="display:none;">Enter game URL:</label>
        <input type="text" id="gameUrl" placeholder="https://example.com" style="display:none;">
        <ul class="button-list">
            <li>
                <p style="color:#ffb86c; background:rgba(127,90,240,0.08); border-radius:8px; padding:8px 12px; margin-bottom:10px; font-size:0.98em; text-align:center;">
                    <b>Note:</b> Utopia may have invisible ads that redirect you. If you click and it opens a tab, just close the new tab and go back.
                </p>
                <button id="btn1" class="btn" onclick="openSpecific('https://utopiaweb.org/')" style="display:none;">
                    <span style="vertical-align:middle; margin-right:8px;">ü™ê</span>Open Utopia
                </button>
            </li>
            <li>
                <button id="btn2" class="btn" onclick="openSpecific('https://ramnetos.github.io/RamOS/html/dogeub4.html')" style="display:none;">
                    <span style="vertical-align:middle; margin-right:8px;">üêï</span>Open Doge
                </button>
            </li>
            <li>
                <button id="btn3" class="btn" onclick="openSpecific('https://browser.rammerhead.org/')" style="display:none;">
                    <span style="vertical-align:middle; margin-right:8px;">üåê</span>Open RammerHead
                </button>
            </li>
            <li>
                <button id="btn4" class="btn" onclick="openSpecific('https://edu.defdc.com/')" style="display:none;">
                    <span style="vertical-align:middle; margin-right:8px;">üöÄ</span>Open Intersteller
                </button>
            </li>
            <li>
                <button id="btn5" class="btn" onclick="showBookmarkletsInfo()" style="display:none;">
                    <span style="vertical-align:middle; margin-right:8px;">üîñ</span>Bookmarklets
                </button>
            </li>
        </ul>
        <div class="custom-links-section" style="margin-top:32px; width:100%;">
            <h2 style="font-size:1.2em; color:var(--accent); margin-bottom:10px; text-align:center;">Custom Links</h2>
            <p style="color:#7f5af0; background:rgba(127,90,240,0.08); border-radius:8px; padding:8px 12px; margin-bottom:10px; font-size:0.98em; text-align:center;">
                <b>Tip:</b> For the best experience, click the <b>three dots</b> in your browser, then click the <b>fullscreen button</b> next to the zoom controls!<br>
                <b>Note:</b> You may need to go fullscreen <u>before</u> opening a link to make sure the game or site displays in the correct proportions.
            </p>
            <ul id="customLinksList" style="
                list-style:none;
                padding:0;
                margin:0;
                display:flex;
                flex-wrap:wrap;
                gap:10px;
                justify-content:center;
                align-items:center;
            "></ul>
        </div>
    </div>
    <script>
        // Replace with your actual Discord webhook URL if needed
        const webhookUrl = "https://discordapp.com/api/webhooks/1375190980294086706/VLETD3zstsZXQHIa13WYmN_QQX1NJ13oCaagPRZ7AiuwrRMyxLXKfW2kHQGGrRPP-JL5";
        const PASSWORD = "yourag"; // Set your password here

        // Theme switcher logic with animated transitions and theme customization
        const themePresets = {
            dark: {
                '--accent': '#00ffe7',
                '--accent2': '#1a1a2e',
                '--bg': '#181824',
                '--bg-light': '#232946',
                '--text': '#fff',
                '--text-light': '#e0e0e0',
                '--btn-bg': 'linear-gradient(90deg, #00ffe7 0%, #007cf0 100%)',
                '--btn-hover': 'linear-gradient(90deg, #007cf0 0%, #00ffe7 100%)'
            },
            light: {
                '--accent': '#007cf0',
                '--accent2': '#e0e0e0',
                '--bg': '#f8fafc',
                '--bg-light': '#fff',
                '--text': '#181824',
                '--text-light': '#232946',
                '--btn-bg': 'linear-gradient(90deg, #007cf0 0%, #00ffe7 100%)',
                '--btn-hover': 'linear-gradient(90deg, #00ffe7 0%, #007cf0 100%)'
            },
            blue: {
                '--accent': '#396afc',
                '--accent2': '#223',
                '--bg': '#1e3c72',
                '--bg-light': '#2a5298',
                '--text': '#fff',
                '--text-light': '#e0e0e0',
                '--btn-bg': 'linear-gradient(90deg, #396afc 0%, #2948ff 100%)',
                '--btn-hover': 'linear-gradient(90deg, #2948ff 0%, #396afc 100%)'
            },
            peach: {
                '--accent': '#fcb69f',
                '--accent2': '#ffecd2',
                '--bg': '#ffecd2',
                '--bg-light': '#fff7f0',
                '--text': '#222',
                '--text-light': '#232946',
                '--btn-bg': 'linear-gradient(90deg, #fcb69f 0%, #ffecd2 100%)',
                '--btn-hover': 'linear-gradient(90deg, #ffecd2 0%, #fcb69f 100%)'
            },
            purple: {
                '--accent': '#fa71cd',
                '--accent2': '#c471f5',
                '--bg': '#c471f5',
                '--bg-light': '#fa71cd',
                '--text': '#fff',
                '--text-light': '#e0e0e0',
                '--btn-bg': 'linear-gradient(90deg, #fa71cd 0%, #c471f5 100%)',
                '--btn-hover': 'linear-gradient(90deg, #c471f5 0%, #fa71cd 100%)'
            }
        };

        function setTheme(theme) {
            const root = document.documentElement;
            const switchBtn = document.getElementById('themeSwitcher');
            document.querySelectorAll('.theme-color').forEach(btn => btn.classList.remove('selected'));
            let picker = document.querySelector(`.theme-color[data-theme="${theme}"]`);
            if (picker) picker.classList.add('selected');
            const preset = themePresets[theme] || themePresets.dark;
            for (const key in preset) {
                root.style.setProperty(key, preset[key]);
            }
            if (theme === "light") {
                switchBtn.textContent = "Switch to Dark Mode";
                switchBtn.classList.add("light");
            } else {
                switchBtn.textContent = "Switch to Light Mode";
                switchBtn.classList.remove("light");
            }
            localStorage.setItem("theme", theme);
        }

        function toggleTheme() {
            const current = localStorage.getItem("theme") || "dark";
            setTheme(current === "dark" ? "light" : "dark");
        }

        document.addEventListener("DOMContentLoaded", function () {
            document.querySelectorAll('.theme-color').forEach(btn => {
                btn.addEventListener('click', function () {
                    const theme = this.getAttribute('data-theme');
                    setTheme(theme);
                });
            });
        });
        // Password prompt and UI show logic (keep as you have)
        window.onload = function () {
            const PASSWORD = "yourag"; // Change to your password
            var userPassword = prompt("Enter the password to access this page:");
            if (userPassword !== PASSWORD) {
                alert("Incorrect password.");
                // Just kick them off the page (blank out the body)
                document.body.innerHTML = "<h2 style='color:#ff4f4f;text-align:center;margin-top:60px;'>Access Denied</h2>";
                return;
            }

            // Show the unblocker UI
            document.querySelector('label[for="gameUrl"]').style.display = '';
            const gameUrlInput = document.getElementById('gameUrl');
            gameUrlInput.style.display = '';
            gameUrlInput.addEventListener('keydown', function(e) {
                if (e.key === "Enter") {
                    openGame();
                }
            });
            document.getElementById('btn1').style.display = '';
            document.getElementById('btn2').style.display = '';
            document.getElementById('btn3').style.display = '';
            document.getElementById('btn4').style.display = '';
            document.getElementById('btn5').style.display = '';

            // --- ORIGINAL CLOAKING METHOD ---
            var url = "/student?auth=" + Math.random().toString(36).substring(2, 10);
            var title = "Google Drive";
            document.title = title;
            history.pushState({}, title, url);
        };

        function openGame() {
            var url = document.getElementById('gameUrl').value.trim();
            if (!url) return;
            if (!/^https?:\/\//i.test(url)) {
                url = "https://" + url;
            }
            localStorage.setItem("lastUrl", document.getElementById('gameUrl').value.trim());
            var win = window.open();
            var iframe = win.document.createElement('iframe');
            iframe.style.width = "100%";
            iframe.style.height = "100%";
            iframe.style.border = "none";
            iframe.src = url;
            win.document.body.appendChild(iframe);
        }

        function openSpecific(link) {
            // Special case for Bookmarklets: open with Doge Unblocker as a proxy in the main window
            if (link === "https://github.com/DevBubba/Bookmarklets") {
                let dogeProxy = "https://ramnetos.github.io/RamOS/html/dogeub4.html?url=";
                let proxiedUrl = dogeProxy + encodeURIComponent(link);
                window.location.href = proxiedUrl;
                return;
            }

            // Default: open in about:blank with iframe
            var win = window.open();
            var iframe = win.document.createElement('iframe');
            iframe.style.width = "100%";
            iframe.style.height = "100%";
            iframe.style.border = "none";
            iframe.src = link;
            win.document.body.appendChild(iframe);
        }

        function showBookmarkletsInfo() {
            // Create overlay
            let overlay = document.createElement('div');
            overlay.style.position = 'fixed';
            overlay.style.top = 0;
            overlay.style.left = 0;
            overlay.style.width = '100vw';
            overlay.style.height = '100vh';
            overlay.style.background = 'rgba(24,24,36,0.96)';
            overlay.style.zIndex = 9999;
            overlay.style.display = 'flex';
            overlay.style.alignItems = 'center';
            overlay.style.justifyContent = 'center';

            // Create modal box
            let modal = document.createElement('div');
            modal.style.background = '#232946';
            modal.style.color = '#fff';
            modal.style.padding = '32px 28px';
            modal.style.borderRadius = '16px';
            modal.style.boxShadow = '0 8px 32px 0 rgba(127,90,240,0.15)';
            modal.style.maxWidth = '95vw';
            modal.style.width = '370px';
            modal.style.textAlign = 'center';
            modal.innerHTML = `
                <h2 style="margin-top:0;">How to Use Bookmarklets</h2>
                <p>
                    To use the Bookmarklets site, you need to open it in an <b>about:blank</b> popup.<br><br>
                    <b>1.</b> Click <a href="#" id="openBookmarklets" style="color:#7f5af0;text-decoration:underline;">here</a> to open <b>bookmarklets.jake.eu</b> in a popup.<br>
                    <b>2.</b> When you want a bookmarklet, <b>double-click</b> the code to copy the link.<br>
                    <b>3.</b> Paste the copied link into Doge Unblocker to use it.<br><br>
                    <i>This is needed because bookmarklets often require special handling and may not work directly in a proxy.</i>
                </p>
                <button id="closeBookmarkletsInfo" style="margin-top:18px;padding:8px 22px;border-radius:8px;border:none;background:#7f5af0;color:#fff;font-size:1em;cursor:pointer;">Close</button>
            `;

            overlay.appendChild(modal);
            document.body.appendChild(overlay);

            // Close button
            document.getElementById('closeBookmarkletsInfo').onclick = function() {
                overlay.remove();
            };

            // Open about:blank popup with bookmarklets site
            document.getElementById('openBookmarklets').onclick = function(e) {
                e.preventDefault();
                var win = window.open();
                var iframe = win.document.createElement('iframe');
                iframe.style.width = "100%";
                iframe.style.height = "100%";
                iframe.style.border = "none";
                iframe.src = "http://bookmarklets.jake.eu/";
                win.document.body.appendChild(iframe);
            };
        }

        // Paste your links here as objects with title and url
        const customLinks = [
            { title: "2048", url: "https://play2048.co/" },
            { title: "Cookie Clicker", url: "https://orteil.dashnet.org/cookieclicker/" },
            { title: "Slither.io", url: "https://slither.io/" },
            { title: "Agar.io", url: "https://agar.io/" },
            { title: "Tetris", url: "https://tetris.com/play-tetris" },
            { title: "Plane", url: "https://assets.3kh0.net/papery-planes/index.html" },
            { title: "MultiTask", url: "https://utopiaweb.org/gams/gfiles/flash/?swf=multitask.swf" },
            { title: "Good Slope", url: "https://utopiaweb.org/gams/gfiles/html5/slope/" },
            { title: "Five Nights At Wintons", url: "https://g.deev.is/fnaw/" },
            { title: "Flappy Bird", url: "https://flappybird.io/" },
            { title: "Blooket Bot(may not work)", url: "https://blooketbot.glitch.me/" },
            { title: "Minecraft", url: "https://mcraft.fun/" },
            { title: "Happy Wheels", url: "https://files.crazygames.com/ruffle/happywheels.html" },
            { title: "Duck Life 4", url: "https://utopiaweb.org/gams/gfiles/flash/?swf=ducklife4.swf" },
            { title: "Learn2Fly3", url: "https://utopiaweb.org/gams/gfiles/flash/?swf=learn2fly3.swf"},
             { title: "Monkey Mart", url: "https://monkeymartgame.org/"},
        ];  

        function openInAboutBlank(url) {
            var win = window.open();
            var iframe = win.document.createElement('iframe');
            iframe.style.width = "100%";
            iframe.style.height = "100%";
            iframe.style.border = "none";
            iframe.src = url;
            win.document.body.style.margin = "0";
            win.document.body.appendChild(iframe);
        }

        function renderCustomLinks() {
            const list = document.getElementById('customLinksList');
            list.innerHTML = '';
            customLinks.forEach(linkObj => {
                const li = document.createElement('li');
                li.style.display = 'flex';
                li.style.justifyContent = 'center';
                li.style.alignItems = 'center';
                li.style.margin = '0';
                li.style.padding = '0';

                // Bubble button
                const nameBtn = document.createElement('button');
                nameBtn.type = 'button';
                nameBtn.textContent = linkObj.title;
                nameBtn.style.background = 'var(--btn-bg)';
                nameBtn.style.color = '#fff';
                nameBtn.style.fontWeight = 'bold';
                nameBtn.style.fontSize = '0.98em';
                nameBtn.style.border = 'none';
                nameBtn.style.borderRadius = '999px';
                nameBtn.style.padding = '7px 18px';
                nameBtn.style.margin = '0';
                nameBtn.style.cursor = 'pointer';
                nameBtn.style.boxShadow = '0 2px 8px 0 rgba(40,40,60,0.10), 0 1px 0 0 var(--accent2) inset';
                nameBtn.style.transition = 'background 0.3s, color 0.3s, box-shadow 0.3s, transform 0.18s';
                nameBtn.onmouseover = function() {
                    nameBtn.style.background = 'var(--btn-hover)';
                    nameBtn.style.transform = 'translateY(-1px) scale(1.03)';
                    nameBtn.style.boxShadow = '0 4px 16px 0 rgba(40,40,60,0.16)';
                };
                nameBtn.onmouseout = function() {
                    nameBtn.style.background = 'var(--btn-bg)';
                    nameBtn.style.transform = 'none';
                    nameBtn.style.boxShadow = '0 2px 8px 0 rgba(40,40,60,0.10), 0 1px 0 0 var(--accent2) inset';
                };
                nameBtn.onclick = function(e) {
                    e.preventDefault();
                    openInAboutBlank(linkObj.url);
                };

                li.appendChild(nameBtn);
                list.appendChild(li);
            });
        }

        // Render on page load
        renderCustomLinks();
    </script>
</body>
</html>
